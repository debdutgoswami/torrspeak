(this.webpackJsonptorrspeak=this.webpackJsonptorrspeak||[]).push([[0],{111:function(e,t){},119:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(27),o=s.n(c),r=(s(60),s.p,s(61),s(55)),i=s(7),d=s(29),l=s(8),u=s(52),j=s.n(u),b=(s(79),function(e){switch(e){case"Pratyay":return"#00BFF3";case"Debdut":return"#00FF00";case"Sandipan":return"#8A2BE2";case"Saif":return"#FC6A03";default:return"#DC143D"}}),p=s(2);function m(e){var t=b(e.data.user);return Object(p.jsxs)("div",{className:"message",children:[Object(p.jsx)("div",{className:"messageAuthor",style:{color:t},children:e.data.user}),Object(p.jsxs)("div",{className:"messageBody",children:[" ",e.data.body]})]})}function g(e){var t=Object(a.useState)(""),s=Object(i.a)(t,2),n=s[0],c=s[1];return Object(p.jsx)(l.a.Group,{controlId:"formReply",children:Object(p.jsx)(l.a.Control,{type:"text",placeholder:"Reply",value:n,onChange:function(e){c(e.target.value)},onKeyPress:function(t){13==t.charCode&&(c(""),e.addNewMessage({message_thread_id:e.messageThreadId,body:n}))},className:"reply"})})}function h(e){var t=Object(a.useState)(e.messageThreadData),s=Object(i.a)(t,2),n=s[0],c=(s[1],b(n.messages[0].user));return Object(p.jsxs)("div",{className:"messageThread",style:{left:n.left+"px",top:n.top+"px",position:"absolute",borderColor:c},children:[n.messages.map((function(e){return Object(p.jsx)(m,{data:e})})),Object(p.jsx)(g,{messageThreadId:n.message_thread_id,addNewMessage:e.addNewMessage})]})}s(84),s(85);var O=function(e,t){console.log("RBZ sending msg: ",t),e.emit("add_msg",t)},x=s(53),f=s.n(x),v=s(28),y=s(54),_=(s(114),f()("ws://localhost:8080"));function S(e){var t=b(e.user);return Object(p.jsx)("div",{style:{position:"absolute",left:e.pos[0]+"px",top:e.pos[1]+"px",borderRadius:"5px"},children:Object(p.jsx)(y.a,{style:{fill:t}})})}function C(e){var t=Object(a.useState)(""),s=Object(i.a)(t,2),n=s[0],c=s[1],o=Object(a.useState)("Sandipan"),u=Object(i.a)(o,2),b=u[0],m=u[1],g=Object(a.useState)(""),x=Object(i.a)(g,2),f=x[0],y=x[1],C=Object(a.useState)(!1),w=Object(i.a)(C,2),k=w[0],N=w[1],D=Object(a.useState)(!0),I=Object(i.a)(D,2),L=I[0],R=I[1],F=Object(a.useState)(0),M=Object(i.a)(F,2),T=M[0],U=M[1],B=Object(a.useState)(0),E=Object(i.a)(B,2),P=E[0],G=E[1],A=Object(a.useState)(""),Y=Object(i.a)(A,2),H=Y[0],X=Y[1],J=Object(a.useState)(!1),z=Object(i.a)(J,2),K=z[0],W=z[1],Z=Object(a.useState)([10,10]),q=Object(i.a)(Z,2),Q=q[0],V=q[1],$=Object(a.useState)(!0),ee=Object(i.a)($,2),te=ee[0],se=ee[1],ae=Object(a.useState)("white"),ne=Object(i.a)(ae,2),ce=ne[0],oe=(ne[1],Object(a.useState)([{left:90,top:450,message_thread_id:"b",messages:[{user:"Sandipan",timestamp:1403202043,body:"This is the reason why I say we should always participate in hackathons, especially MLH ones!"},{user:"Pratyay",timestamp:1403202043,body:"Yes, I agree! MLH Hackathons are pretty interesting ones & the swags they provide is just amazing!"}]},{left:900,top:680,message_thread_id:"c",messages:[{user:"Debdut",timestamp:1403202043,body:"Imagine having such workplace during hackathons :p"}]},{left:100,top:1880,message_thread_id:"d",messages:[{user:"Saif",timestamp:1403202043,body:"When did hackathons become coding competitions? \ud83e\udd14"}]}])),re=Object(i.a)(oe,2),ie=re[0],de=re[1],le=function(e){var t=ie.findIndex((function(t){return t.message_thread_id==e.message_thread_id}));if(-1!=t){var s=ie.concat();s[t].messages.push({user:b,timestamp:Date.now(),body:e.body}),de(s)}else e.left&&e.top?de((function(t){return[].concat(Object(r.a)(t),[e])})):console.log("Invalid new message",e)};Object(a.useEffect)((function(){return document.addEventListener("dblclick",ue),function(){document.removeEventListener("dblclick",ue)}}),[]);var ue=function(e){K||(G(e.pageX),U(e.pageY),W(!0))},je=function(e){le(e),O(_,{user:b,timestamp:Date.now(),body:e.body,message_thread_id:e.message_thread_id})},be=function(e){console.log("Got new message from another user",e);var t={left:e.x,top:e.y,message_thread_id:e.message_thread_id,messages:[{user:e.user,timestamp:Date.now(),body:e.body}]};le(t)},pe=function(e){V([e.x,e.y])};return Object(a.useEffect)((function(){console.log("Send info"),function(e,t,s,a){e.on("connect_to_doc",(function(e){console.log(e)})),e.on("add_msg",s),e.on("move_cursor",a),e.emit("connect_to_doc",t)}(_,{url:n,user:b},be,pe)}),[n,b]),Object(p.jsxs)("div",{className:"canvas",onMouseMove:function(e){console.log(e.clientX,e.clientY),function(e,t){e.emit("move_cursor",t)}(_,{user:b,x:e.clientX,y:e.clientY})},children:[Object(p.jsx)(S,{pos:Q,user:b}),ie.map((function(e){return Object(p.jsx)(h,{messageThreadData:e,addNewMessage:je})})),Object(p.jsxs)("div",{className:"topSidebar",children:[Object(p.jsx)("div",{style:{padding:"5px"},children:Object(p.jsx)("img",{src:"Pratyay.png"})}),Object(p.jsx)("div",{style:{padding:"5px"},children:Object(p.jsx)("img",{src:"Debdut.png"})}),Object(p.jsx)("div",{style:{padding:"5px"},children:Object(p.jsx)("img",{src:"Saif.png"})}),Object(p.jsx)("div",{style:{padding:"5px"},children:Object(p.jsx)("img",{src:"Sandipan.png"})}),Object(p.jsx)("div",{style:{padding:"5px"},children:Object(p.jsx)("img",{src:"divider.png"})}),Object(p.jsx)("div",{style:{padding:"5px"},children:Object(p.jsx)("img",{src:"mic.gif"})}),Object(p.jsx)("div",{style:{padding:"5px"},children:Object(p.jsx)("img",{src:"save.png"})}),Object(p.jsx)("div",{style:{padding:"5px"},children:Object(p.jsx)("img",{src:"settingsx.png"})})]}),te&&Object(p.jsx)(l.a,{onSubmit:function(e){e.preventDefault(),se(!1)},children:Object(p.jsxs)(l.a.Group,{controlId:"formUrlInput",children:[Object(p.jsx)("img",{src:"user.png",className:"iconx"}),"\xa0",Object(p.jsx)(l.a.Label,{className:"fontx",style:{paddingRight:"5px"},children:"User"}),Object(p.jsx)(l.a.Control,{type:"text",placeholder:"user name",value:b,onChange:function(e){m(e.target.value)}})]})}),!te&&Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("b",{children:"Username:"})," ",b]}),Object(p.jsx)(d.a,{style:{border:"none",backgroundColor:ce,borderColor:"blue"},className:"editUserBtn",onClick:function(e){se(!0)},children:Object(p.jsx)(v.a,{})})]}),Object(p.jsx)("br",{}),L&&Object(p.jsx)(l.a,{onSubmit:function(e){e.preventDefault(),j()({method:"post",url:"https://api.pagescreen.io/v1/capture.json",data:{url:n,fullpage:!0},auth:{username:"pk_screenshot_5bb5cd295c45a",password:"sk_screenshot_0f0550e020db6"}}).then((function(e){e.data.data[0]?y(e.data.data[0].permalink):y(e.data.data.permalink);setTimeout((function(){N(!0)}),1e3),R(!1)})).catch((function(e){return console.log(e)}))},children:Object(p.jsxs)(l.a.Group,{controlId:"formUrlInput",children:[Object(p.jsx)("img",{src:"link.png",className:"iconx"}),"\xa0",Object(p.jsx)(l.a.Label,{className:"fontx",style:{paddingRight:"5px"},children:"Resource URL"}),Object(p.jsx)(l.a.Control,{type:"url",placeholder:"URL",value:n,onChange:function(e){c(e.target.value)}})]})}),!L&&Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("img",{src:"link.png",className:"iconx"}),"\xa0",Object(p.jsx)("b",{children:"Content URL:"})," ",n]}),Object(p.jsx)(d.a,{style:{border:"none",backgroundColor:ce,borderColor:"blue"},className:"editUserBtn",onClick:function(){R(!0)},children:Object(p.jsx)(v.a,{})})]}),K&&Object(p.jsx)(l.a,{onSubmit:function(e){e.preventDefault();var t=(+new Date).toString(36),s=Date.now();le({left:P,top:T,message_thread_id:t,messages:[{user:b,timestamp:s,body:H}]}),W(!1),O(_,{user:b,body:H,message_thread_id:t,x:P,y:T,timestamp:+new Date}),X("")},style:{left:P,top:T,position:"absolute",outline:"none"},children:Object(p.jsx)(l.a.Group,{controlId:"formComment",children:Object(p.jsx)(l.a.Control,{type:"text",placeholder:"Comment...",value:H,onChange:function(e){X(e.target.value)}})})}),k&&f&&Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:"".concat(f)})})]})}var w=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(C,{})})},k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,120)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;s(e),a(e),n(e),c(e),o(e)}))};o.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),k()},60:function(e,t,s){},61:function(e,t,s){},79:function(e,t,s){},84:function(e,t){},85:function(e,t,s){}},[[119,1,2]]]);
//# sourceMappingURL=main.de892544.chunk.js.map