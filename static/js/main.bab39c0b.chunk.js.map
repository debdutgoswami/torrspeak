{"version":3,"sources":["logo.svg","Constants.js","Comment.jsx","SocketAPIs.js","Home.jsx","App.js","reportWebVitals.js","index.js"],"names":["getUserColour","user","Message","props","userColor","data","className","style","color","body","ReplyForm","useState","replyMessage","setReplyMessage","Form","Group","controlId","Control","type","placeholder","value","onChange","e","target","onKeyPress","charCode","addNewMessage","message_thread_id","messageThreadId","CommentThread","messageThreadData","borderColor","messages","left","top","position","map","messageData","add_msg","socket","msg","console","log","emit","socketIOClient","Cursor","userColour","pos","borderRadius","fill","Home","url","setUrl","setUser","contentPermalink","setContentPermalink","contentReady","setContentReady","editUrl","setEditUrl","openCommentTop","setOpenCommentTop","openCommentLeft","setOpenCommentLeft","openCommentText","setOpenCommentText","displayOpenComment","setDisplayOpenComment","otherUserPos","setOtherUserPos","editUsername","setEditUsername","editUserBtnBgColour","timestamp","setMessageThreadData","newMessage","threadIdx","findIndex","thread","concat","push","Date","now","useEffect","document","addEventListener","handleClick","removeEventListener","pageX","pageY","updateReplyPosted","add_msg_cb","move_cursor_cb","x","y","on","connect_to_doc","onMouseMove","clientX","clientY","move_cursor","padding","src","onSubmit","event","preventDefault","Label","paddingRight","Button","border","backgroundColor","onClick","axios","method","fullpage","auth","username","password","then","permalink","setTimeout","catch","err","id","toString","outline","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bab39c0b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export const USER_BLUE = '#00BFF3'\nexport const USER_GREEN = '#00FF00'\nexport const USER_ORANGE = '#FC6A03'\nexport const USER_VIOLET = '#8A2BE2'\nexport const USER_RED = '#DC143D'\n\nexport const getUserColour = (user) => {\n  switch (user) {\n    case 'Pratyay':\n      return USER_BLUE\n    case 'Debdut':\n      return USER_GREEN\n    case 'Sandipan':\n      return USER_VIOLET\n      case 'Saif':\n        return USER_ORANGE\n    default:\n      return USER_RED\n  }\n}\n","import React, { useState } from 'react'\nimport './Comment.css'\nimport { getUserColour } from './Constants.js'\nimport Form from 'react-bootstrap/Form'\n\nfunction Message(props) {\n  const userColor = getUserColour(props.data.user)\n  return (\n    <div className=\"message\">\n      <div className=\"messageAuthor\" style={{ color: userColor }}>\n        {props.data.user}\n      </div>\n      <div className=\"messageBody\"> {props.data.body}</div>\n    </div>\n  )\n}\n\nfunction ReplyForm(props) {\n  const [replyMessage, setReplyMessage] = useState('');\n\n  const handleCommentTextChange = (e) => {\n    setReplyMessage(e.target.value);\n  }\n  const handleKeyPress = (target) => {\n    if (target.charCode == 13) {\n      setReplyMessage('');\n      props.addNewMessage({\n        message_thread_id: props.messageThreadId,\n        body: replyMessage,\n      });\n    }\n  }\n\n  return (\n    <Form.Group controlId=\"formReply\">\n      <Form.Control\n        type=\"text\"\n        placeholder=\"Reply\"\n        value={replyMessage}\n        onChange={handleCommentTextChange}\n        onKeyPress={handleKeyPress}\n        className=\"reply\"\n      />\n    </Form.Group>\n  )\n}\n\nexport default function CommentThread(props) {\n  const [messageThreadData, setMessageThreadData] = useState(\n    props.messageThreadData,\n  )\n  const borderColor = getUserColour(messageThreadData.messages[0].user)\n  return (\n    <div\n      className=\"messageThread\"\n      style={{\n        left: messageThreadData.left + 'px',\n        top: messageThreadData.top + 'px',\n        position: 'absolute',\n        borderColor: borderColor,\n      }}\n    >\n      {messageThreadData.messages.map((messageData) => (\n        <Message data={messageData} />\n      ))}\n      <ReplyForm\n        messageThreadId={messageThreadData.message_thread_id}\n        addNewMessage={props.addNewMessage}\n      />\n    </div>\n  )\n}\n","export const connect_to_doc = (socket, url, add_msg_cb, move_cursor_cb) => {\n  socket.on('connect_to_doc', (data) => {\n    console.log(data)\n  })\n  socket.on('add_msg', add_msg_cb)\n  socket.on('move_cursor', move_cursor_cb)\n  socket.emit('connect_to_doc', url)\n}\n\nexport const add_msg = (socket, msg) => {\n  console.log('RBZ sending msg: ', msg)\n  socket.emit('add_msg', msg)\n}\n\nexport const move_cursor = (socket, msg) => {\n  socket.emit('move_cursor', msg)\n}\n","import React, { useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport axios from 'axios';\nimport CommentThread from './Comment';\nimport Sockets from './Sockets';\nimport './Home.css';\nimport { connect_to_doc, add_msg, move_cursor } from './SocketAPIs';\nimport socketIOClient from 'socket.io-client';\nimport { BiPencil } from 'react-icons/bi';\nimport { BsFillCursorFill } from 'react-icons/bs';\nimport { StickyContainer, Sticky } from 'react-sticky';\nimport { getUserColour } from './Constants.js'\n// import 'bootstrap/dist/css/bootstrap.min.css';\n\nlet alreadyConnected = false\n// let mouseMoveCounter = 0\nlet socket = socketIOClient('ws://localhost:8080')\n\nfunction Cursor(props) {\n  const userColour = getUserColour(props.user)\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        // backgroundColor: 'black',\n        left: props.pos[0] + 'px',\n        top: props.pos[1] + 'px',\n        borderRadius: '5px',\n      }}\n    >\n      <BsFillCursorFill style={{fill: userColour}}/>\n    </div>\n  )\n}\n\nexport default function Home(props) {\n  const pagescreenApiUrl = 'https://api.pagescreen.io/v1/capture.json'\n  const [url, setUrl] = useState('');\n  const [user, setUser] = useState('Sandipan');\n  const [contentPermalink, setContentPermalink] = useState('');\n  const [contentReady, setContentReady] = useState(false);\n  const [editUrl, setEditUrl] = useState(true);\n  const [openCommentTop, setOpenCommentTop] = useState(0);\n  const [openCommentLeft, setOpenCommentLeft] = useState(0);\n  const [openCommentText, setOpenCommentText] = useState('');\n  const [displayOpenComment, setDisplayOpenComment] = useState(false);\n  const [otherUserPos, setOtherUserPos] = useState([10, 10]);\n  const [editUsername, setEditUsername] = useState(true);\n  const [editUserBtnBgColour, setEditUserBtnBgColour] = useState('white');\n  const [messageThreadData, setMessageThreadData] = useState([\n    {\n      left: 90,\n      top: 450,\n      message_thread_id: 'b',\n      messages: [\n        {\n          user: 'Sandipan',\n          timestamp: 1403202043,\n          body: 'This is the reason why I say we should always participate in hackathons, especially MLH ones!',\n        },\n        {\n          user: 'Pratyay',\n          timestamp: 1403202043,\n          body: \"Yes, I agree! MLH Hackathons are pretty interesting ones & the swags they provide is just amazing!\",\n        },\n      ],\n    },\n    {\n      left: 900,\n      top: 680,\n      message_thread_id: 'c',\n      messages: [\n        {\n          user: 'Debdut',\n          timestamp: 1403202043,\n          body:\n            'Imagine having such workplace during hackathons :p',\n        },\n      ],\n    },\n    {\n      left: 100,\n      top: 1880,\n      message_thread_id: 'd',\n      messages: [\n        {\n          user: 'Saif',\n          timestamp: 1403202043,\n          body:\n            'When did hackathons become coding competitions? ðŸ¤”',\n        },\n      ],\n    },\n  ]);\n\n  const addNewMessage = (newMessage) => {\n    const threadIdx = messageThreadData.findIndex(\n      (thread) => thread.message_thread_id == newMessage.message_thread_id,\n    );\n    if (threadIdx != -1) {\n      let data = messageThreadData.concat();\n      data[threadIdx].messages.push({\n        user: user,\n        timestamp: Date.now(),\n        body: newMessage.body,\n      });\n      setMessageThreadData(data);\n    } else if (newMessage.left && newMessage.top) {\n      // during creating a new message\n      setMessageThreadData(messageThreadData => [...messageThreadData, newMessage]);\n    } else {\n      console.log('Invalid new message', newMessage);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('dblclick', handleClick);\n    return () => {\n      document.removeEventListener('dblclick', handleClick);\n    }\n  }, []);\n\n  const handleClick = (e) => {\n    if (!displayOpenComment) {\n      setOpenCommentLeft(e.pageX)\n      setOpenCommentTop(e.pageY)\n      setDisplayOpenComment(true)\n    }\n  };\n\n  const handleCommentTextChange = (event) => {\n    setOpenCommentText(event.target.value)\n  };\n\n  const handleUserSubmit = (event) => {\n    event.preventDefault();\n    setEditUsername(false);\n  };\n\n  const updateReplyPosted = (msg) => {\n    addNewMessage(msg);\n    add_msg(socket, {\n      user: user,\n      timestamp: Date.now(),\n      body: msg.body,\n      message_thread_id: msg.message_thread_id,\n    });\n  }\n\n  const handleCommentSubmit = (event) => {\n    event.preventDefault();\n    const id = (+new Date()).toString(36);\n    const timestamp = Date.now();\n    const localMessage = {\n      left: openCommentLeft,\n      top: openCommentTop,\n      message_thread_id: id,\n      messages: [\n        {\n          user: user,\n          timestamp: timestamp,\n          body: openCommentText,\n        },\n      ],\n    };\n    addNewMessage(localMessage);\n    setDisplayOpenComment(false);\n    add_msg(socket, {\n      user: user,\n      body: openCommentText,\n      message_thread_id: id,\n      x: openCommentLeft,\n      y: openCommentTop,\n      timestamp: +new Date(),\n    });\n    setOpenCommentText('');\n  };\n\n  const handleUrlChange = (event) => {\n    setUrl(event.target.value)\n  };\n\n  const handleUserChange = (event) => {\n    setUser(event.target.value)\n  };\n\n  const handleEditUserClick = (event) => {\n    setEditUsername(true);\n  };\n  const handleUrlSubmit = (event) => {\n    event.preventDefault()\n    axios({\n      method: 'post',\n      url: pagescreenApiUrl,\n      data: {\n        url: url,\n        fullpage: true,\n      },\n      auth: {\n        username: 'pk_screenshot_5bb5cd295c45a',\n        password: 'sk_screenshot_0f0550e020db6',\n      },\n    })\n      .then((data) => {\n        if (data.data.data[0]) {\n          setContentPermalink(data.data.data[0].permalink)\n        } else {\n          setContentPermalink(data.data.data.permalink)\n        }\n\n        var millisecondsToWait = 1000\n        setTimeout(function () {\n          setContentReady(true);\n        }, millisecondsToWait);\n        setEditUrl(false);\n      })\n      .catch((err) => console.log(err))\n  }\n\n  const handleMouseMove = (e) => {\n    // if (mouseMoveCounter > 5) {\n    console.log(e.clientX, e.clientY)\n    move_cursor(socket, { user: user, x: e.clientX, y: e.clientY })\n    //   mouseMoveCounter = 0\n    // }\n    // mouseMoveCounter++\n  }\n\n  const add_msg_cb = (msg) => {\n    console.log('Got new message from another user', msg)\n    const newMessage = {\n      left: msg['x'],\n      top: msg['y'],\n      message_thread_id: msg['message_thread_id'],\n      messages: [\n        {\n          user: msg['user'],\n          timestamp: Date.now(),\n          body: msg['body'],\n        },\n      ],\n    }\n    addNewMessage(newMessage)\n  };\n\n  const handleEditUrlClick = () => {\n    setEditUrl(true);\n  };\n\n  const move_cursor_cb = (pos) => {\n    setOtherUserPos([pos.x, pos.y])\n  }\n\n  useEffect(() => {\n    console.log('Send info')\n    connect_to_doc(socket, { url: url, user: user }, add_msg_cb, move_cursor_cb)\n  }, [url, user])\n\n  return (\n    <div className=\"canvas\" onMouseMove={handleMouseMove}>\n      {/* <div style={{ fontSize: '50px' }}>Convo</div> */}\n      {<Cursor pos={otherUserPos} user={user}/>}\n      {\n        messageThreadData.map((data) => (\n          <CommentThread\n            messageThreadData={data}\n            addNewMessage={updateReplyPosted}\n          ></CommentThread>\n        ))\n      }\n\n      <div className=\"topSidebar\">\n        <div style={{ padding: '5px' }}>\n          <img src=\"Pratyay.png\"></img>\n        </div>\n        <div style={{ padding: '5px' }}>\n          <img src=\"Debdut.png\"></img>\n        </div>\n        <div style={{ padding: '5px' }}>\n          <img src=\"Saif.png\"></img>\n        </div>\n        <div style={{ padding: '5px' }}>\n          <img src=\"Sandipan.png\"></img>\n        </div>\n        <div style={{ padding: '5px' }}>\n          <img src=\"divider.png\"></img>\n        </div>\n        <div style={{ padding: '5px' }}>\n          <img src=\"mic.gif\"></img>\n        </div>\n        <div style={{ padding: '5px' }}>\n          <img src=\"save.png\"></img>\n        </div>\n        <div style={{ padding: '5px' }}>\n          <img src=\"settingsx.png\"></img>\n        </div>\n      </div>\n\n      {editUsername &&\n        <Form onSubmit={handleUserSubmit}>\n          <Form.Group controlId=\"formUrlInput\">\n          <img src=\"user.png\" className=\"iconx\"></img>&nbsp;\n            <Form.Label className=\"fontx\" style={{ paddingRight: '5px' }}>User</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"user name\"\n              value={user}\n              onChange={handleUserChange}\n            />\n          </Form.Group>\n        </Form>\n      }\n      {!editUsername &&\n        <div>\n          <span><b>Username:</b> {user}</span>\n          <Button style={{ border: 'none', backgroundColor: editUserBtnBgColour, borderColor: 'blue' }} className=\"editUserBtn\" onClick={handleEditUserClick}><BiPencil /></Button>\n        </div>\n      }\n<br />\n      {editUrl && <Form onSubmit={handleUrlSubmit}>\n        <Form.Group controlId=\"formUrlInput\">\n        <img src=\"link.png\" className=\"iconx\"></img>&nbsp;\n          <Form.Label className=\"fontx\" style={{ paddingRight: '5px' }}>Resource URL</Form.Label>\n          <Form.Control\n            type=\"url\"\n            placeholder=\"URL\"\n            value={url}\n            onChange={handleUrlChange}\n          />\n        </Form.Group>\n      </Form>}\n      {!editUrl &&\n        <div>\n          <span><img src=\"link.png\" className=\"iconx\"></img>&nbsp;<b>Content URL:</b> {url}</span>\n          <Button style={{ border: 'none', backgroundColor: editUserBtnBgColour, borderColor: 'blue' }} className=\"editUserBtn\" onClick={handleEditUrlClick}><BiPencil /></Button>\n        </div>\n      }\n\n      {displayOpenComment && (\n        <Form\n          onSubmit={handleCommentSubmit}\n          style={{\n            left: openCommentLeft,\n            top: openCommentTop,\n            position: 'absolute',\n            outline: 'none',\n          }}\n        >\n          <Form.Group controlId=\"formComment\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Comment...\"\n              value={openCommentText}\n              onChange={handleCommentTextChange}\n            />\n          </Form.Group>\n        </Form>\n      )}\n\n      {contentReady && contentPermalink && (\n        <div>\n            <img src={`${contentPermalink}`}></img>\n          {/* <img src={`${contentPermalink}?${Date.now()}`}></img> */}\n        </div>\n      )}\n    </div>);\n}\n","import logo from './logo.svg';\nimport './App.css';\nimport Home from './Home';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Home></Home>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}